[gd_scene load_steps=14 format=3 uid="uid://c6i1bgtyhwimm"]

[ext_resource type="PackedScene" uid="uid://cmshly5qv2v42" path="res://escenes/player/player.tscn" id="1_1a6sk"]
[ext_resource type="PackedScene" uid="uid://bhskg4fqt6gqh" path="res://assets/ladder.tscn" id="2_2myj7"]
[ext_resource type="Script" uid="uid://c316g75buu2gj" path="res://escenes/world/elevator/elevator.gd" id="3_kkkkj"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_1a6sk"]
sky_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)
ground_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)

[sub_resource type="Sky" id="Sky_2myj7"]
sky_material = SubResource("ProceduralSkyMaterial_1a6sk")

[sub_resource type="Environment" id="Environment_kkkkj"]
background_mode = 2
sky = SubResource("Sky_2myj7")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_wkcf0"]
albedo_color = Color(0.404511, 0.404511, 0.404511, 1)

[sub_resource type="Curve3D" id="Curve3D_pivtw"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 55, 0),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[sub_resource type="BoxShape3D" id="BoxShape3D_fn3wa"]
size = Vector3(5, 5, 0.5)

[sub_resource type="BoxMesh" id="BoxMesh_pivtw"]
size = Vector3(5, 5, 0.5)

[sub_resource type="Animation" id="Animation_ohvm7"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("PathFollow3D:progress_ratio")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(-1.5),
"update": 0,
"values": [0.0]
}

[sub_resource type="Animation" id="Animation_fn3wa"]
resource_name = "move"
length = 2.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("PathFollow3D:progress_ratio")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 2),
"transitions": PackedFloat32Array(-1.5, -1.5),
"update": 0,
"values": [0.0, 1.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_wb7ca"]
_data = {
&"RESET": SubResource("Animation_ohvm7"),
&"move": SubResource("Animation_fn3wa")
}

[node name="World" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_kkkkj")

[node name="Floor" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
use_collision = true
size = Vector3(100, 1, 100)
material = SubResource("StandardMaterial3D_wkcf0")
metadata/_edit_lock_ = true

[node name="Player" parent="." instance=ExtResource("1_1a6sk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.3347, 2, 24.7364)

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="."]
use_collision = true

[node name="CSGCylinder3D" type="CSGCylinder3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 50, 0)
radius = 10.0
height = 100.0

[node name="CSGCylinder3D3" type="CSGCylinder3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 50, 0)
operation = 2
radius = 9.0
height = 100.0

[node name="CSGCylinder3D2" type="CSGCylinder3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.40778, 0)
radius = 20.0
height = 1.0

[node name="CSGCylinder3D4" type="CSGCylinder3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.033, 11, 0.009)
radius = 20.0
height = 1.0

[node name="CSGBox3D" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(0.935426, 0, -0.353524, 0, 1.8, 0, 0.353524, 0, 0.935426, -2.98835, 11.8514, 9.90094)
operation = 2
size = Vector3(3.05981, 1, 2.46582)

[node name="Ladder" parent="." instance=ExtResource("2_2myj7")]
transform = Transform3D(0.947813, 0, -0.318827, 0, 5.02974, 0, 0.318827, 0, 0.947813, -2.43067, 29.7452, 9.27734)

[node name="Ladder3" parent="." instance=ExtResource("2_2myj7")]
transform = Transform3D(0.9241, 0, -0.382151, 0, 5.02975, 0, 0.382151, 0, 0.9241, -4.62054, 29.7452, 8.5787)

[node name="Ladder2" parent="." instance=ExtResource("2_2myj7")]
transform = Transform3D(0.999636, 0, -0.0269621, 0, 2.21922, 0, 0.0269621, 0, 0.999636, 0.635624, 24.164, 10.1957)

[node name="Elevator" type="Path3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 22.1672)
curve = SubResource("Curve3D_pivtw")
script = ExtResource("3_kkkkj")

[node name="PathFollow3D" type="PathFollow3D" parent="Elevator"]
transform = Transform3D(-4.37114e-08, 1, -4.37114e-08, 0, -4.37114e-08, -1, -1, -4.37114e-08, 1.91069e-15, 0, 0, 0)
loop = false

[node name="RemoteTransform3D" type="RemoteTransform3D" parent="Elevator/PathFollow3D"]
remote_path = NodePath("../../AnimatableBody3D")
update_rotation = false
update_scale = false

[node name="AnimatableBody3D" type="AnimatableBody3D" parent="Elevator"]
transform = Transform3D(-4.37114e-08, 1, 4.37114e-08, 0, -4.37114e-08, 1, 1, 4.37114e-08, 1.91069e-15, 0, 0, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Elevator/AnimatableBody3D"]
shape = SubResource("BoxShape3D_fn3wa")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Elevator/AnimatableBody3D"]
mesh = SubResource("BoxMesh_pivtw")

[node name="AnimationPlayer" type="AnimationPlayer" parent="Elevator"]
libraries = {
&"": SubResource("AnimationLibrary_wb7ca")
}

[node name="CSGBox3D" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 28.4345, 11, 0)
use_collision = true
size = Vector3(20, 1, 5)
